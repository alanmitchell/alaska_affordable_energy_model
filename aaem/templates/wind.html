<html>
  <head>
      <title>{% block title %}{% endblock %}</title>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart() {

        // Create the data table.
        costs = google.visualization.arrayToDataTable({{ costs }})
        consumption = google.visualization.arrayToDataTable({{ consumption }})
        // Set chart options
        var costs_options = {'title':'Estimated Electricity Generation Fuel Costs',
                       'width':800,
                       'height':600,
                       hAxis: {format: '####'},
                       };

        var consumption_options = {'title':'Disel Consumded for Generation Electricity',
                       'width':800,
                       'height':600,
                       hAxis: {format: '####'},
                       };

        // Instantiate and draw our chart, passing in some options.
        var costs_chart = new google.visualization.LineChart(document.getElementById('costs_chart'));
        costs_chart.draw(costs, costs_options);
        document.getElementById('costs_png').outerHTML = '<a href="' + costs_chart.getImageURI() + '">Printable version</a>';
    
    
        var consumption_chart = new google.visualization.LineChart(document.getElementById('consumption_chart'));
        consumption_chart.draw(consumption, consumption_options);
        document.getElementById('consumption_png').outerHTML = '<a href="' + consumption_chart.getImageURI() + '">Printable version</a>';
    
      }
    </script>
</head>


<body>
    <H1>{{ com }} </H1>
    <H2> {{ type }} Summary</H2>
    <div id="stats">
        <p>Investments Needed: {{ capital }} </p>
        <p>Net Lifetime Savings: {{ savings }}</p>
        <p>Expected kWh/year: {{ kWh }}</p>
        <p>Proposed Capacity(kW): {{ capicity }}</p>
        <p>Assumed Wind Class: {{ wind_class }}</p>
        <p>Assumed Capacity Factor: {{ cap_factor }}</p>
        <p>Existing Wind: {{wind}}</p>
        <p>Existing Solar: {{solar}}</p>
    </div>
    <div id="costs_chart"></div>
    <div id='costs_png'></div>
    <div id="consumption_chart"></div>
    <div id='consumption_png'></div>
</body>


</html>
