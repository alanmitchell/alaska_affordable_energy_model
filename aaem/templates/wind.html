{% extends "layout.html" %}


{% block title %}{{ com }} - {{ type }} summary{% endblock %}

{% block JS %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart() {

        // Create the data table.
        costs = google.visualization.arrayToDataTable({{ costs }})
        consumption = google.visualization.arrayToDataTable({{ consumption }})
        // Set chart options
        var costs_options = {'title':'Estimated Electricity Generation Fuel Costs',
                       'width':1000,
                       'height':600,
                       hAxis: {format: '####'},
                       };

        var consumption_options = {'title':'Disel Consumded for Generation Electricity',
                       'width':1000,
                       'height':600,
                       hAxis: {format: '####'},
                       };

        // Instantiate and draw our chart, passing in some options.
        var costs_chart = new google.visualization.LineChart(document.getElementById('costs_chart'));
        costs_chart.draw(costs, costs_options);
        document.getElementById('costs_png').outerHTML = '<a href="' + costs_chart.getImageURI() + '">Printable version</a>';
    
    
        var consumption_chart = new google.visualization.LineChart(document.getElementById('consumption_chart'));
        consumption_chart.draw(consumption, consumption_options);
        document.getElementById('consumption_png').outerHTML = '<a href="' + consumption_chart.getImageURI() + '">Printable version</a>';
    
      }
    </script>
{% endblock %}


{% block page %}
    <H2> {{ type }} Summary</H2>
{% endblock %}

{% block heading %}
    <H1>{{ com }} </H1>
  {{ super() }}
{% endblock %}

    
{% block left %}
    <div class="stats">
        <h3>information:</h3>
        <p>Investments Needed: {{ "${:,.0f}".format(capital) }}  </p>
        <p>Net Lifetime Savings: {{ "${:,.0f}".format(savings) }}</p>
        <p>Expected kWh/year: {{ "{:,.0f}".format(kWh) }}</p>
        <p>Proposed Capacity(kW): {{ "{:,.0f}".format(capicity) }}</p>
        <p>Assumed Wind Class: {{ wind_class }}</p>
        <p>Assumed Capacity Factor: {{ cap_factor }}</p>
        <p>Existing Wind: {{wind}} kW</p>
        <p>Existing Solar: {{solar}} kW</p>
    </div>
{% endblock %}
    
{% block right %}
    <div class = 'charts'>
        <div class="costs">
            <div id="costs_chart"></div>
            <div id='costs_png'></div>
        </div>
        <div class="consumption">
            <div id="consumption_chart"></div>
            <div id='consumption_png'></div>
        </div>
    </div>
{% endblock %}



